# –õ–µ–∫—Ü–∏—è 18. –°–£–ë–î. DQL. SELECT. –ò–Ω–¥–µ–∫—Å—ã. Group by. Joins.

## DQL (Data query language) (–Ø–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö)

**DQL (Data Query Language)** ‚Äì —ç—Ç–æ —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ DQL ‚Äì —ç—Ç–æ `SELECT`.

**DQL –ù–ï –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ! –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `INSERT`, `UPDATE` –∏–ª–∏ `DELETE`, –æ–Ω —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.**


## SELECT

–î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π –∑–∞–ø—Ä–æ—Å –≤ –ë–î –≤ —Ç–∞–±–ª–∏—á–∫—É `products` –∫–æ—Ç–æ—Ä—É—é –º—ã —Å–æ–∑–¥–∞–ª–∏ –Ω–∞ –ø—Ä–æ—à–ª–æ–π –ª–µ–∫—Ü–∏–∏.

```sql
SELECT * FROM products;
```
–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –≤–µ—Ä–Ω—ë—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `products`. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `SELECT *` –º–æ–∂–Ω–æ, –Ω–æ –µ—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö, —ç—Ç–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ!
–õ—É—á—à–µ –≤—ã–≤–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å —Å—Ç–æ–ª–±—Ü–æ–≤.

```sql
SELECT name, price FROM products;
```

–¢–µ–ø–µ—Ä—å –º—ã –≤—ã–≤–µ–¥–µ–º —Ç–æ–ª—å–∫–æ —Å—Ç–æ–ª–±—Ü—ã `name` –∏  `price`

–¢–∞–∫ –∂–µ `SQL` –Ω–µ –ø–ª–æ—Ö–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏))

```sql
SELECT 13 + 56;
```

–ü–æ—ç—Ç–æ–º—É –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞ –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–æ –∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.

```sql
SELECT name, price / 2 FROM products;
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å WHERE

–í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö, –¥–æ—Å—Ç–∞–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö.–ü–æ—ç—Ç–æ–º—É —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –Ω–µ –≤—Å–µ –∑–∞–ø–∏—Å–∏, –∞ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `WHERE`.

```sql
SELECT id, name, price FROM products WHERE id = 2;

SELECT id, name, price FROM products WHERE price < 1000;

SELECT id, name, price FROM products WHERE name = '–¢–µ–ª–µ—Ñ–æ–Ω';
```

–í –ü–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –≤—ã–≤–µ–¥–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø—Ä–æ–¥—É–∫—Ç —Å `id = 2` (—Ç–∞–∫ –∫–∞–∫ `id` —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞). –í–æ –≤—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–µ –≤—ã–≤–µ–¥—É—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã —É –∫–æ—Ç–æ—Ä—ã—Ö —Ü–µ–Ω–∞ –º–µ–Ω—å—à–µ `1000` (price < 1000). –ê –≤ —Ç—Ä–µ—Ç—å–µ–º –ø–æ–ª—É—á–∏–º –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –∏–º–µ–Ω–µ–º `–¢–µ–ª–µ—Ñ–æ–Ω` (name = '–¢–µ–ª–µ—Ñ–æ–Ω')

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã AND, OR, NOT

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —É—Å–ª–æ–≤–∏—è–º. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –Ω–∞–º —É–∂–µ –∑–Ω–∞–∫–æ–º—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã `AND`, `OR`, `NOT`.

#### –û–ø–µ—Ä–∞—Ç–æ—Ä AND (–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò)

–í –∑–∞–ø—Ä–æ—Å–µ –æ–±–∞ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–µ—Ä–Ω—ã, —á—Ç–æ–±—ã –≤—ã–≤–µ–ª—Å—è —Ä–µ–∑—É–ª—å—è—Ç–∞—Ç.

```sql
SELECT id, name, price FROM products WHERE price > 1200 AND name = '–¢–µ–ª–µ—Ñ–æ–Ω';
```

–¢–µ–ø–µ—Ä—å –≤—ã–≤–µ–¥—É—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã—Ö —Ü–µ–Ω–∞ –±–æ–ª—å—à–µ `1200` –∏ —É –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–µ `–¢–µ–ª–µ—Ñ–æ–Ω`.

#### –û–ø–µ—Ä–∞—Ç–æ—Ä OR (–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò)

–•–æ—Ç—è –±—ã –æ–¥–Ω–æ —É—Å–ª–æ–≤–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–µ—Ä–Ω—ã–º.

```sql
SELECT id, name, price FROM products WHERE price < 1200 OR name = '–ù–∞—É—à–Ω–∏–∫–∏';
```

–í—ã–≤–µ–¥–µ—Ç –≤—Å–µ –ù–∞—É—à–Ω–∏–∫–∏ –ò–õ–ò –ª—é–±—ã–µ —Ç–æ–≤–∞—Ä—ã –¥–µ—à–µ–≤–ª–µ 1200.

#### –û–ø–µ—Ä–∞—Ç–æ—Ä NOT (–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ù–ï) - –∏—Å–∫–ª—é—á–∏—Ç—å –∑–∞–ø–∏—Å–∏


```sql
SELECT id, name, price FROM products WHERE NOT name = '–¢–µ–ª–µ—Ñ–æ–Ω';
```

–í—ã–±–µ—Ä–µ—Ç –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, –∫—Ä–æ–º–µ –¢–µ–ª–µ—Ñ–æ–Ω–æ–≤.

### –û–ø–µ—Ä–∞—Ç–æ—Ä LIKE ‚Äì –ü–æ–∏—Å–∫ –ø–æ —à–∞–±–ª–æ–Ω—É

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–π—Ç–∏ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, —á—å–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –Ω–∞ `"–ù"`.

```sql
SELECT * FROM products WHERE name LIKE '–ù%';
```

**–ù% –æ–∑–Ω–∞—á–∞–µ—Ç: –∏–º—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "–ù", –¥–∞–ª—å—à–µ –ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã.**

–ü—Ä–∏–º–µ—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤ `LIKE`

| –®–∞–±–ª–æ–Ω  | –û–ø–∏—Å–∞–Ω–∏–µ                              |
|---------|--------------------------------------|
| '–ù%'    | –ù–∞–∏–º–µ–Ω–æ–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "–ù"               |
| '%–ù'    | –ù–∞–∏–º–µ–Ω–æ–æ–≤–∞–Ω–∏–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ "–ù"           |
| '%–ù%'   | –ù–∞–∏–º–µ–Ω–æ–æ–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç "–ù" –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ     |
| '–ù_–ù'   | –ù–∞–∏–º–µ–Ω–æ–æ–≤–∞–Ω–∏–µ –∏–∑ —Ç—Ä—ë—Ö –±—É–∫–≤, –≤—Ç–æ—Ä–∞—è "–ù"       |


### ORDER BY ‚Äì –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ß—Ç–æ–±—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ORDER BY`.

####  –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (ASC)

```sql
SELECT * FROM products ORDER BY price ASC;
```

–ü–æ—Å–ª–µ –¥–∞–Ω–Ω–æ–≥–æ –Ω–∞—à–∏ —Ç–æ–≤–∞—Ä—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –æ—Ç —Å–∞–º–æ–≥–æ –¥–µ—à–µ–≤–æ–≥–æ –¥–æ —Å–∞–º–æ–≥–æ –¥–æ—Ä–æ–≥–æ–≥–æ.

#### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é (DESC)

```sql
SELECT * FROM products ORDER BY price DESC;
```
–¢–æ–≤–∞—Ä—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –æ—Ç —Å–∞–º–æ–≥–æ –¥–æ—Ä–æ–≥–æ –∫ –¥–µ—à–µ–≤–æ–º—É.

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–ª–æ–Ω–∫–∞–º

```sql
SELECT * FROM products ORDER BY name DESC, price ASC;
```

–¢—É—Ç –±—É–¥–µ—Ç –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø–æ –ù–∞–∑–≤–∞–Ω–∏—é ,–ø–æ—Ç–æ–º –ø–æ —Ü–µ–Ω–µ (–æ—Ç —Å–∞–º–æ–≥–æ –¥–µ—à–µ–≤–æ–≥–æ –¥–æ –¥–æ—Ä–æ–≥–æ–≥–æ)

###  LIMIT ‚Äì –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ `N` –∑–∞–ø–∏—Å–µ–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `LIMIT`.

```sql
SELECT * FROM products LIMIT 5;
```

–í—ã–≤–æ–¥ 5 –ø–µ—Ä–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∫–∞–∫–æ–π—Ç–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `OFFSET`.

```sql
SELECT * FROM products LIMIT 5 OFFSET 5;
```
–í–µ—Ä–Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Å 5-–æ–≥–æ –ø–æ 10-–µ. `OFFSET` - —Å–¥–≤–∏–≥ –ø–æ –¥–∞–Ω–Ω—ã–º.

**–í—Å–µ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å**

```sql
SELECT * FROM products ORDER BY price ASC LIMIT 3;
```

–¢–µ–ø–µ—Ä—å –º—ã –≤—ã–≤–µ–¥–µ–º 3 —Å–∞–º—ã—Ö –¥–µ—à–µ–≤—ã—Ö —Ç–æ–≤–∞—Ä–∞))

### DISTINCT ‚Äì –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `DISTINCT`.

```sql
SELECT DISTINCT name FROM products;
```

–≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å —É–±–µ—Ä—ë—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ –≤–µ—Ä–Ω—ë—Ç —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤.


## –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ –ë–∞–∑–∞—Ö –î–∞–Ω–Ω—ã—Ö (Indexes)

**–ò–Ω–¥–µ–∫—Å—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö** ‚Äì —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —É—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö. –û–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Ö–æ–∂–∏–º –æ–±—Ä–∞–∑–æ–º –Ω–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–Ω–∏–≥–∏: –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å –≤—Å—é —Ç–∞–±–ª–∏—Ü—É, –±–∞–∑–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏.

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∏–Ω–¥–µ–∫—Å—ã?

- –ö–æ–≥–¥–∞ —Ç–∞–±–ª–∏—Ü–∞ –º–∞–ª–µ–Ω—å–∫–∞—è (–¥–æ 1000 —Å—Ç—Ä–æ–∫) ‚Äì –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–æ.
- –ö–æ–≥–¥–∞ —Ç–∞–±–ª–∏—Ü–∞ –±–æ–ª—å—à–∞—è (–º–∏–ª–ª–∏–æ–Ω—ã —Å—Ç—Ä–æ–∫) ‚Äì –æ–±—ã—á–Ω—ã–π –ø–æ–∏—Å–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω—ã–º.
- –ò–Ω–¥–µ–∫—Å—ã –ø–æ–º–æ–≥–∞—é—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, —É–º–µ–Ω—å—à–∞—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∫–∞–Ω–∏—Ä—É–µ–º—ã—Ö —Å—Ç—Ä–æ–∫.

### –¢–∏–ø—ã –∏–Ω–¥–µ–∫—Å–æ–≤

–í `PostgreSQL` –µ—Å—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∏–¥—ã –∏–Ω–¥–µ–∫—Å–æ–≤. –°–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ:

| –¢–∏–ø –∏–Ω–¥–µ–∫—Å–∞                  | –û–ø–∏—Å–∞–Ω–∏–µ                                                   |
|------------------------------|-----------------------------------------------------------|
| **B-Tree (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)**    | –°–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–∏—Å–∫–∞, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. |
| **Hash**                     | –û–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ `=` (—Ä–∞–≤–Ω–æ).                      |
| **GIN (Generalized Inverted Index)** | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –º–∞—Å—Å–∏–≤–∞–º, JSON –∏ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–º—É –ø–æ–∏—Å–∫—É. |
| **GiST (Generalized Search Tree)**  | –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–∏—Å–∫–∞ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º. |
| **BRIN (Block Range Index)** | –•–æ—Ä–æ—à –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –¥–∞–Ω–Ω—ã–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã. |

### –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤

**–ü—Ä–∏–º–µ—Ä –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞**

```sql
SELECT * FROM products WHERE name = '–¢–µ–ª–µ—Ñ–æ–Ω';
```

–ï—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –º–∏–ª–ª–∏–æ–Ω —Å—Ç—Ä–æ–∫, –ø–æ–∏—Å–∫ –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–º, —Ç–∞–∫ –∫–∞–∫ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É.

**–ü—Ä–∏–º–µ—Ä —Å –∏–Ω–¥–µ–∫—Å–æ–º**

```sql
CREATE INDEX idx_product_name ON products(name);
```

–¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫ –±—É–¥–µ—Ç –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ, —Ç–∞–∫ –∫–∞–∫ `PostgreSQL` –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å –≤–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–≥–æ –ø–µ—Ä–µ–±–æ—Ä–∞ —Å—Ç—Ä–æ–∫.


#### –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–ª–æ–Ω–æ–∫

```sql
CREATE INDEX idx_product_name_price ON products(name, price);
```

–≠—Ç–æ—Ç –∏–Ω–¥–µ–∫—Å –±—É–¥–µ—Ç —É—Å–∫–æ—Ä—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ä–∞–∑—É `name` –∏ `price`.

#### –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞

```sql
CREATE UNIQUE INDEX idx_unique_product_name ON products(name);
```

 –≠—Ç–æ—Ç –∏–Ω–¥–µ–∫—Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤ —Ç–∞–±–ª–∏—Ü–µ `products` –Ω–µ –±—É–¥–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏.

–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ `UNIQUE` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–∞–±–ª–∏—Ü—ã

```sql
CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    name TEXT UNIQUE,
    price NUMERIC,
    description TEXT
);
```

 –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ `PostgreSQL` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ `name`.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∏–Ω–¥–µ–∫—Å–∞**

–ü–æ–ø—Ä–æ–±—É–µ–º –¥–æ–±–∞–≤–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã

```sql
INSERT INTO products (name, price, description) 
VALUES ('–¢–µ–ª–µ—Ñ–æ–Ω', 1400, '–ê–π—Ñ–æ–Ω');
```

–ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ.

```sql
INSERT INTO products (name, price, description) 
VALUES ('–¢–µ–ª–µ—Ñ–æ–Ω', 1200, '–°–∞–º—Å—É–Ω–≥');
```

–û—à–∏–±–∫–∞! –ù–∞—Ä—É—à–µ–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: `name` —É–∂–µ –µ—Å—Ç—å –≤ –±–∞–∑–µ.


**–ò–Ω–¥–µ–∫—Å—ã –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**

```sql
SELECT *
FROM products
ORDER BY name;
```

–ò–Ω–¥–µ–∫—Å –Ω–∞ `name` —Ç–∞–∫–∂–µ —É—Å–∫–æ—Ä–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞–º–∏

–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤–ß—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã –≤ —Ç–∞–±–ª–∏—Ü–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

```sql
\d table_name
```

**–£–¥–∞–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞**

–ï—Å–ª–∏ –∏–Ω–¥–µ–∫—Å –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω, –µ–≥–æ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å:

```sql
DROP INDEX idx_unique_product_name;
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏

–ê –µ—Å–ª–∏ –≤—Å–µ —Ç–∞–∫ —Ö–æ—Ä–æ—à–æ –∏ –±—ã—Å—Ç—Ä–æ, –ø–æ—á–µ–º—É –±—ã –Ω–∞–º –Ω–µ —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤–æ–æ–±—â–µ –Ω–∞ –≤—Å–µ –ø–æ–ª—è –∏ –≤—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ?

–ò –¥–∞ –∏ –Ω–µ—Ç.

–ï—Å–ª–∏ –±—ã —É –Ω–∞—Å –±—ã–ª–∏ —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è, —Ç–æ —ç—Ç–æ –±—ã–ª–æ –±—ã –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –ù–æ —É –Ω–∞—Å –µ—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.

–ü—Ä–µ–¥—Å—Ç–∞–≤—Ç–µ –∫–Ω–∏–≥—É —É –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ (–ø–æ —Å—É—Ç–∏ —Ç–∞ –∂–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è). –ü–æ–∫–∞ –º—ã –º–æ–∂–µ–º —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å –∫–Ω–∏–≥—É, –ø—Ä–æ–±–ª–µ–º –Ω–µ—Ç,
–¥–æ–±–∞–≤–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –Ω–∞—á–∞–ª–µ, —á–µ–º —É–ø—Ä–æ—Å—Ç–∏–ª–∏ –∂–∏–∑–Ω—å.

–ù–æ —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤—Ç–µ, —á—Ç–æ –≤—ã –≤ —ç—Ç—É –∫–Ω–∏–≥—É –Ω–∞—á–∏–Ω–∞–µ—Ç–µ –¥–æ–ø–∏—Å—ã–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ —Ü–µ–ª—ã–µ –≥–ª–∞–≤—ã.

–î–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–¥–µ—Ç—Å—è –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ.

> –ï—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü—É —á–∞—Å—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –∑–∞–ø–∏—Å—å/–∏–∑–º–µ–Ω–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ, —Ç–æ –∏–Ω–¥–µ–∫—Å —Ç–æ–ª—å–∫–æ –∑–∞–º–µ–¥–ª–∏–ª —Ä–∞–±–æ—Ç—É –±–∞–∑—ã! –ê –æ–Ω –µ—â–µ –∏ –º–µ—Å—Ç–æ
> –∑–∞–Ω–∏–º–∞–µ—Ç! –ü–æ—ç—Ç–æ–º—É –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ—á–µ–Ω—å –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –æ—Ç–Ω–æ—Å–∏—Ç—å—Å—è –∫ –∏–Ω–¥–µ–∫—Å–∞–º, —ç—Ç–æ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ
> –º–æ–∂–µ—Ç
> –≤—Å–µ —Å–ª–æ–º–∞—Ç—å

## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ PostgreSQL

**–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** ‚Äì —ç—Ç–æ –≥–æ—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `PostgreSQL`, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–º–µ–Ω—è—Ç—å, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä—è–º–æ –≤ SQL-–∑–∞–ø—Ä–æ—Å–∞—Ö. –° –∏—Ö –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏, —á–∏—Å–ª–∞–º–∏, –¥–∞—Ç–∞–º–∏, –º–∞—Å—Å–∏–≤–∞–º–∏, JSON –∏ –º–Ω–æ–≥–∏–º –¥—Ä—É–≥–∏–º.

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

–¢–∞–±–ª–∏—Ü–∞ –∏—Å—Ç–∏–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è SQL, —É—á–∏—Ç—ã–≤–∞—é—â–∞—è `NULL`, –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏—Å—Ç–∏–Ω–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ `NULL` –≤ SQL
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö `NULL` –≤–µ–¥–µ—Ç —Å–µ–±—è –æ—Å–æ–±—ã–º –æ–±—Ä–∞–∑–æ–º.

–í–æ—Ç —Ç–∞–±–ª–∏—Ü–∞ –∏—Å—Ç–∏–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è SQL —Å —É—á–µ—Ç–æ–º `NULL`:

### –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (AND, OR, NOT)

| A     | B     | A AND B | A OR B | NOT A |
|-------|-------|---------|--------|-------|
| TRUE  | TRUE  | TRUE    | TRUE   | FALSE |
| TRUE  | FALSE | FALSE   | TRUE   | FALSE |
| TRUE  | NULL  | NULL    | TRUE   | FALSE |
| FALSE | TRUE  | FALSE   | TRUE   | TRUE  |
| FALSE | FALSE | FALSE   | FALSE  | TRUE  |
| FALSE | NULL  | FALSE   | NULL   | TRUE  |
| NULL  | TRUE  | NULL    | TRUE   | NULL  |
| NULL  | FALSE | FALSE   | NULL   | NULL  |
| NULL  | NULL  | NULL    | NULL   | NULL  |

### –û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (=, <>, <, >, <=, >=)

| A     | B     | A = B | A <> B | A < B | A > B | A <= B | A >= B |
|-------|-------|-------|--------|-------|-------|--------|--------|
| TRUE  | TRUE  | TRUE  | FALSE  | FALSE | FALSE | TRUE   | TRUE   |
| TRUE  | FALSE | FALSE | TRUE   | FALSE | TRUE  | FALSE  | TRUE   |
| TRUE  | NULL  | NULL  | NULL   | NULL  | NULL  | NULL   | NULL   |
| FALSE | TRUE  | FALSE | TRUE   | TRUE  | FALSE | TRUE   | FALSE  |
| FALSE | FALSE | TRUE  | FALSE  | FALSE | FALSE | TRUE   | TRUE   |
| FALSE | NULL  | NULL  | NULL   | NULL  | NULL  | NULL   | NULL   |
| NULL  | TRUE  | NULL  | NULL   | NULL  | NULL  | NULL   | NULL   |
| NULL  | FALSE | NULL  | NULL   | NULL  | NULL  | NULL   | NULL   |
| NULL  | NULL  | NULL  | NULL   | NULL  | NULL  | NULL   | NULL   |

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

1. **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã:**
    - `A AND B` –≤–µ—Ä–Ω–µ—Ç `TRUE`, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–±–∞ –∑–Ω–∞—á–µ–Ω–∏—è `TRUE`.
    - `A OR B` –≤–µ—Ä–Ω–µ—Ç `TRUE`, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ `TRUE`.
    - `NOT A` –≤–µ—Ä–Ω–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ `A` –Ω–µ `NULL`.

2. **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**
    - –õ—é–±–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å `NULL` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `NULL` (–Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ).

–≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–µ–ª–∞—é—Ç —Ä–∞–±–æ—Ç—É —Å `NULL` –≤ SQL —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–π, –∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ `NULL` –Ω–µ
—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω –Ω–∏ `TRUE`, –Ω–∏ `FALSE`, –∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ç—Ä–µ—Ç—å–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏
–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö.

### –í–∏–¥—ã –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ñ—É–Ω–∫—Ü–∏–π          | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------------------|-------------------------------------------------------------|
| **–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**     | –í—ã–ø–æ–ª–Ω—è—é—Ç —Ä–∞—Å—á—ë—Ç—ã –ø–æ –≥—Ä—É–ø–ø–µ —Å—Ç—Ä–æ–∫ (`SUM`, `AVG`, `COUNT`, `MAX`, `MIN`). |
| **–§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏** | –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Ç–µ–∫—Å—Ç (`UPPER`, `LOWER`, `LENGTH`, `SUBSTRING`). |
| **–§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —á–∏—Å–ª–∞–º–∏**   | –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (`ROUND`, `ABS`, `CEIL`, `FLOOR`). |
| **–§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏**    | –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º (`NOW`, `CURRENT_DATE`, `AGE`, `EXTRACT`). |
| **–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤**       | –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ (`ARRAY_LENGTH`, `ARRAY_APPEND`). |
| **–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è JSON**           | –û–±—Ä–∞–±–æ—Ç–∫–∞ JSON-–¥–∞–Ω–Ω—ã—Ö (`JSONB_EXTRACT_PATH_TEXT`). |

#### –ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å `GROUP BY`, —á—Ç–æ–±—ã –¥–µ–ª–∞—Ç—å —Ä–∞—Å—á—ë—Ç—ã –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å—Ç—Ä–æ–∫–∞–º.

| –§—É–Ω–∫—Ü–∏—è  | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------------------------------|
| **SUM()**  | –°—á–∏—Ç–∞–µ—Ç —Å—É–º–º—É –∑–Ω–∞—á–µ–Ω–∏–π. |
| **AVG()**  | –í—ã—á–∏—Å–ª—è–µ—Ç —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. |
| **COUNT()** | –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫. |
| **MAX()**  | –ù–∞—Ö–æ–¥–∏—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. |
| **MIN()**  | –ù–∞—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. |

**–û–±—â–∞—è —Å—É–º–º–∞ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤**

```sql
SELECT SUM(price) FROM products;
```

**–°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ —Ç–æ–≤–∞—Ä–æ–≤**

```sql
SELECT AVG(price) FROM products;
```

**–°–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ**

```sql
SELECT COUNT(*) FROM products;
```

**–°–∞–º—ã–π –¥–æ—Ä–æ–≥–æ–π —Ç–æ–≤–∞—Ä**

```sql
SELECT MAX(price) FROM products;
```

**–°–∞–º—ã–π –¥–µ—à—ë–≤—ã–π —Ç–æ–≤–∞—Ä**

```sql
SELECT MIN(price) FROM products;
```

### –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏ (TEXT)

| –§—É–Ω–∫—Ü–∏—è                          | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------------------------|---------------------------------------------|
| **UPPER(text)**                  | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ **–≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä**.  |
| **LOWER(text)**                  | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ **–Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä**.   |
| **LENGTH(text)**                 | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤** –≤ —Å—Ç—Ä–æ–∫–µ. |
| **SUBSTRING(text, start, length)** | –ò–∑–≤–ª–µ–∫–∞–µ—Ç **—á–∞—Å—Ç—å —Å—Ç—Ä–æ–∫–∏**.                |
| **CONCAT(str1, str2, ...)**      | –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å—Ç—Ä–æ–∫–∏.                         |


**–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä**

```sql
SELECT UPPER(name) FROM products;
```

**–°—á–∏—Ç–∞–µ–º –¥–ª–∏–Ω—É –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞**

```sql
SELECT name, LENGTH(name) FROM products;
```

**–ë–µ—Ä—ë–º –ø–µ—Ä–≤—ã–µ 5 —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è**

```sql
SELECT name, SUBSTRING(name FROM 1 FOR 5) FROM products;
```

**–û–±—ä–µ–¥–∏–Ω—è–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞**

```sql
SELECT CONCAT(name, ' - ', description) FROM products;
```

### –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —á–∏—Å–ª–∞–º–∏

| –§—É–Ω–∫—Ü–∏—è              | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------------|--------------------------------------------------|
| **ROUND(number, n)** | –û–∫—Ä—É–≥–ª—è–µ—Ç —á–∏—Å–ª–æ –¥–æ `n` –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π.   |
| **CEIL(number)**     | –û–∫—Ä—É–≥–ª—è–µ—Ç **–≤–≤–µ—Ä—Ö** (–¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–µ–ª–æ–≥–æ).    |
| **FLOOR(number)**    | –û–∫—Ä—É–≥–ª—è–µ—Ç **–≤–Ω–∏–∑** (–¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ —Ü–µ–ª–æ–≥–æ).     |
| **ABS(number)**      | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **–º–æ–¥—É–ª—å —á–∏—Å–ª–∞**.                   |
| **RANDOM()**        | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç `0` –¥–æ `1`.      |


**–û–∫—Ä—É–≥–ª—è–µ–º —Ü–µ–Ω—É –¥–æ 2 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π**

```sql
SELECT name, ROUND(price, 2) FROM products;
```

**–û–∫—Ä—É–≥–ª—è–µ–º —Ü–µ–Ω—É –≤ –±–æ–ª—å—à—É—é —Å—Ç–æ—Ä–æ–Ω—É**

```sql
SELECT name, CEIL(price) FROM products;
```

**–û–∫—Ä—É–≥–ª—è–µ–º —Ü–µ–Ω—É –≤ –º–µ–Ω—å—à—É—é —Å—Ç–æ—Ä–æ–Ω—É**

```sql
SELECT name, FLOOR(price) FROM products;
```

**–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 1**

```sql
SELECT RANDOM();
```

### –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º

| –§—É–Ω–∫—Ü–∏—è                      | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------------------------|--------------------------------------|
| **NOW()**                    | –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è.               |
| **CURRENT_DATE**             | –¢–µ–∫—É—â–∞—è –¥–∞—Ç–∞ (–±–µ–∑ –≤—Ä–µ–º–µ–Ω–∏).         |
| **AGE(date1, date2)**        | –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –¥–∞—Ç–∞–º–∏.               |
| **EXTRACT(field FROM date)** | –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≥–æ–¥, –º–µ—Å—è—Ü, –¥–µ–Ω—å, —á–∞—Å –∏ —Ç. –¥. |

**–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è**

```sql
SELECT NOW();
```

**–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É**


```sql
SELECT CURRENT_DATE;
```

**–£–∑–Ω–∞—Ç—å –≤–æ–∑—Ä–∞—Å—Ç —Ç–æ–≤–∞—Ä–∞, –µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞—Ç–∞ –µ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è**

```sql
SELECT name, AGE(NOW(), created_at) FROM products;
```

**–ò–∑–≤–ª–µ–∫–∞–µ–º –≥–æ–¥ –∏–∑ –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è**

```sql
SELECT name, EXTRACT(YEAR FROM created_at) FROM products;
```

### –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏

| –§—É–Ω–∫—Ü–∏—è                          | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------------------------|---------------------------------------------|
| **ARRAY_LENGTH(array, dim)**     | –î–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞.                              |
| **ARRAY_APPEND(array, element)** | –î–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤.                 |
| **ARRAY_REMOVE(array, element)** | –£–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –º–∞—Å—Å–∏–≤–∞.                 |
| **UNNEST(array)**                | –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤ —Å—Ç—Ä–æ–∫–∏.              |


**–°–æ–∑–¥–∞—ë–º –º–∞—Å—Å–∏–≤ –∏ —É–∑–Ω–∞—ë–º –µ–≥–æ –¥–ª–∏–Ω—É**

```sql
SELECT ARRAY_LENGTH(ARRAY['Apple', 'Samsung', 'Xiaomi'], 1);
```

**–î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤**

```sql
SELECT ARRAY_APPEND(ARRAY['Apple', 'Samsung'], 'Huawei');
```

### –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å JSON (JSONB)

| –§—É–Ω–∫—Ü–∏—è                               | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------------------------------|----------------------------------------------|
| **JSONB_EXTRACT_PATH_TEXT(json, 'key')** | –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∫–ª—é—á—É.                |
| **JSONB_OBJECT_KEYS(json)**           | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∫–ª—é—á–∏ JSON-–æ–±—ä–µ–∫—Ç–∞.          |

**–î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –∫–æ–ª–æ–Ω–∫–∞ data —Å JSON**

```sql
SELECT JSONB_EXTRACT_PATH_TEXT('{"name": "iPhone", "price": 1000}', 'price');
```

**–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π JSON-–æ–±—ä–µ–∫—Ç–∞**

```sql
SELECT JSONB_OBJECT_KEYS('{"name": "iPhone", "price": 1000}');
```

## GROUP BY –∏ HAVING –≤ SQL

**GROUP BY** ‚Äî —ç—Ç–æ –º–æ—â–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ `SQL`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –ø–æ –æ–¥–Ω–æ–º—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å—Ç–æ–ª–±—Ü–∞–º. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å, –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞—Ç—å –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—å —Å—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è. `GROUP BY` —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ `COUNT`, `SUM`, `AVG`, `MAX` –∏ `MIN`. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –≤—ã—è–≤–ª—è—Ç—å —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏ –∏ –∞–Ω–æ–º–∞–ª–∏–∏, –∞ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–¥–Ω—ã–µ –æ—Ç—á–µ—Ç—ã.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å GROUP BY**

```sql
SELECT column_name, AGGREGATE_FUNCTION(column_name)
FROM table_name
GROUP BY column_name;
```

### –ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ SQL

**–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** ‚Äì —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ SQL-—Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞—Å—á—ë—Ç—ã –Ω–∞–¥ –≥—Ä—É–ø–ø–∞–º–∏ —Å—Ç—Ä–æ–∫.

| –§—É–Ω–∫—Ü–∏—è  | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------------------------------------------|
| **COUNT()**  | –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ –≥—Ä—É–ø–ø–µ. |
| **SUM()**    | –°—á–∏—Ç–∞–µ—Ç —Å—É–º–º—É –∑–Ω–∞—á–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø–µ. |
| **AVG()**    | –í—ã—á–∏—Å–ª—è–µ—Ç —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. |
| **MAX()**    | –ù–∞—Ö–æ–¥–∏—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. |
| **MIN()**    | –ù–∞—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. |

–î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ —Ç–∞–±–ª–∏—Ü–µ `products`.

| id | name       | price  | description | rating |
|----|-----------|--------|------------|--------|
| 1  | –¢–µ–ª–µ—Ñ–æ–Ω   | 1200.00 | –°–∞–º—Å—É–Ω–≥    | 2      |
| 2  | –¢–µ–ª–µ—Ñ–æ–Ω   | 1400.00 | –ê–π—Ñ–æ–Ω      | 5      |
| 3  | –ù–∞—É—à–Ω–∏–∫–∏  | 200.00  | –ö—Å—è–æ–º–∏     | 5      |
| 4  | –ù–æ—É—Ç–±—É–∫   | 1000.00 | –õ–µ–Ω–æ–≤–æ     | 4      |
| 5  | –ù–∞—É—à–Ω–∏–∫–∏  | 150.00  | JBL        | 4      |

#### COUNT() ‚Äì –ü–æ–¥—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

```sql
SELECT name, COUNT(*) AS count_products 
FROM products 
GROUP BY name;
```

–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä—ã –ø–æ `name` –∏ —Å—á–∏—Ç–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ.

| name       | count_products |
|------------|---------------|
| –¢–µ–ª–µ—Ñ–æ–Ω    | 2             |
| –ù–∞—É—à–Ω–∏–∫–∏   | 2             |
| –ù–æ—É—Ç–±—É–∫    | 1             |


#### SUM() ‚Äì –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

```sql
SELECT name, SUM(price) AS total_price
FROM products
GROUP BY name;
```
–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä—ã –ø–æ `name` –∏ —Å—É–º–º–∏—Ä—É–µ—Ç `price`.

| name       | total_price |
|------------|------------|
| –¢–µ–ª–µ—Ñ–æ–Ω    | 2600.00    |
| –ù–∞—É—à–Ω–∏–∫–∏   | 350.00     |
| –ù–æ—É—Ç–±—É–∫    | 1000.00    |


#### AVG() ‚Äì –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Ç–æ–≤–∞—Ä–æ–≤

```sql
SELECT name, AVG(price) AS avg_price
FROM products
GROUP BY name;
```

–ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä—ã –ø–æ name –∏ —Å—á–∏—Ç–∞–µ—Ç `AVG(price)`.

| name       | avg_price |
|------------|-----------|
| –¢–µ–ª–µ—Ñ–æ–Ω    | 1300.00   |
| –ù–∞—É—à–Ω–∏–∫–∏   | 175.00    |
| –ù–æ—É—Ç–±—É–∫    | 1000.00   |

#### MAX() ‚Äì –°–∞–º—ã–π –¥–æ—Ä–æ–≥–æ–π —Ç–æ–≤–∞—Ä –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

```sql
SELECT name, MAX(price) AS max_price
FROM products
GROUP BY name;
```

 –ù–∞—Ö–æ–¥–∏—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É `(MAX(price))` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Ç–æ–≤–∞—Ä–∞.

 | name       | max_price |
|------------|-----------|
| –¢–µ–ª–µ—Ñ–æ–Ω    | 1400.00   |
| –ù–∞—É—à–Ω–∏–∫–∏   | 200.00    |
| –ù–æ—É—Ç–±—É–∫    | 1000.00   |

#### MIN() ‚Äì –°–∞–º—ã–π –¥–µ—à—ë–≤—ã–π —Ç–æ–≤–∞—Ä –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞

```sql
SELECT name, MIN(price) AS min_price
FROM products
GROUP BY name;
```

–ù–∞—Ö–æ–¥–∏—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ü–µ–Ω—É `(MIN(price))` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Ç–æ–≤–∞—Ä–∞.

| name       | min_price |
|------------|-----------|
| –¢–µ–ª–µ—Ñ–æ–Ω    | 1200.00   |
| –ù–∞—É—à–Ω–∏–∫–∏   | 150.00    |
| –ù–æ—É—Ç–±—É–∫    | 1000.00   |

### HAVING ‚Äì –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ GROUP BY

HAVING –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≥—Ä—É–ø–ø –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –æ—Ç–æ–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –±–æ–ª—å—à–µ 10 —Ç–æ–≤–∞—Ä–æ–≤.

#### –ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è HAVING –æ—Ç WHERE?

| üîπ `WHERE` | üîπ `HAVING` |
|---------------|------------------------------------|
| –§–∏–ª—å—Ç—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ **–¥–æ** `GROUP BY`. | –§–∏–ª—å—Ç—Ä—É–µ—Ç –≥—Ä—É–ø–ø—ã **–ø–æ—Å–ª–µ** `GROUP BY`. |
| –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. | –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. |


**–û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≥—Ä—É–ø–ø—ã, –≥–¥–µ –±–æ–ª—å—à–µ 1 —Ç–æ–≤–∞—Ä–∞**

```sql
SELECT name, COUNT(*) AS count_products
FROM products
GROUP BY name
HAVING COUNT(*) > 1;
```

–û—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –≥—Ä—É–ø–ø—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –±–æ–ª—å—à–µ 1.

**–û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –≤—ã—à–µ 500**

```sql
SELECT name, AVG(price) AS avg_price
FROM products
GROUP BY name
HAVING AVG(price) > 500;
```

–û—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö `AVG(price) > 500.`

## –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (Subqueries)

**–í–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–∏–ª–∏ Subquery)** ‚Äì —ç—Ç–æ SQL-–∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –¥—Ä—É–≥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–∏ –¥–∞–Ω–Ω—ã–µ, –∞ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ –¥—Ä—É–≥–æ–º –∑–∞–ø—Ä–æ—Å–µ.

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ WHERE

–î–æ–ø—É—Å—Ç–∏–º, –Ω–∞–º –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö —Ü–µ–Ω–∞ –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–π.

```sql
SELECT * 
FROM products 
WHERE price > (SELECT AVG(price) FROM products);
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**

–í–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å `SELECT AVG(price) FROM products` —Å—á–∏—Ç–∞–µ—Ç —Å—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É. –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Ç–æ–≤–∞—Ä—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö price > —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞.

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ SELECT

–î–æ–ø—É—Å—Ç–∏–º, –º—ã —Ö–æ—Ç–∏–º –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏ –µ–≥–æ –º–µ—Å—Ç–æ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ –ø–æ —Ü–µ–Ω–µ.

```sql
SELECT name, price, 
       (SELECT COUNT(*) FROM products p2 WHERE p2.price > p1.price) + 1 AS rank
FROM products p1
ORDER BY rank;
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**

–í–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å—á–∏—Ç–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –¥–æ—Ä–æ–∂–µ —Ç–µ–∫—É—â–µ–≥–æ **(p1.price).** –ö —ç—Ç–æ–º—É —á–∏—Å–ª—É –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è 1, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ä–∞–Ω–≥ —Ç–æ–≤–∞—Ä–∞ –ø–æ —Ü–µ–Ω–µ.

| name       | price  | rank |
|------------|--------|------|
| –ù–∞—É—à–Ω–∏–∫–∏  | 150.00  | 5    |
| –ù–∞—É—à–Ω–∏–∫–∏  | 200.00  | 4    |
| –ù–æ—É—Ç–±—É–∫   | 1000.00 | 3    |
| –¢–µ–ª–µ—Ñ–æ–Ω   | 1200.00 | 2    |
| –¢–µ–ª–µ—Ñ–æ–Ω   | 1400.00 | 1    |

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å —Ç–æ–≤–∞—Ä—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Ü–µ–Ω–µ.

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ FROM (Derived Tables)

–ï—Å–ª–∏ –º—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É, –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ `FROM`. –î–æ–ø—É—Å—Ç–∏–º, –º—ã —Ö–æ—Ç–∏–º –≤—ã–±—Ä–∞—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã, —á—å—è —Ü–µ–Ω–∞ –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–π, –Ω–æ —Å—Ä–∞–∑—É –¥–æ–±–∞–≤–∏—Ç—å —Å—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É –≤ –≤—ã–≤–æ–¥.

```sql
SELECT p.*, avg_price 
FROM products p, 
     (SELECT AVG(price) AS avg_price FROM products) AS subquery
WHERE p.price > subquery.avg_price;
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**

–í–ª–æ–∂–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å (`subquery`) —Å—á–∏—Ç–∞–µ—Ç `AVG(price)` –∏ —Å–æ–∑–¥–∞—ë—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `subquery`. –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä—ã, –≥–¥–µ `p.price` > `avg_price`.

| id  | name     | price  | description | rating | avg_price |
|---- |---------|--------|-------------|--------|-----------|
| 1   | –¢–µ–ª–µ—Ñ–æ–Ω | 1200.00 | –°–∞–º—Å—É–Ω–≥     | 2      | 990.00    |
| 2   | –¢–µ–ª–µ—Ñ–æ–Ω | 1400.00 | –ê–π—Ñ–æ–Ω       | 5      | 990.00    |


–£ —Ç–æ–≤–∞—Ä–æ–≤ –¥–æ–±–∞–≤–∏–ª—Å—è —Å—Ç–æ–ª–±–µ—Ü —Å —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω–æ–π, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –º—ã —Ñ–∏–ª—å—Ç—Ä—É–µ–º.

### –û–ø–µ—Ä–∞—Ç–æ—Ä WITH

–î–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –º—ã –º–æ–∂–µ–º –ø—Ä–∏–º–µ–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä `WITH`. –ö–æ—Ç–æ—Ä—ã–π –ø–æ —Å—É—Ç–∏ –±—É–¥–µ—Ç —è–≤–ª—è—Ç—å—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π. –í –∫–æ—Ç–æ—Ä—É—é –º—ã –ø–æ–º–µ—Å—Ç–∏–º –∫–∞–∫–æ–π-—Ç–æ –∑–∞–ø—Ä–æ—Å.

**–ü—Ä–∏–º–µ—Ä: –ù–∞–π—Ç–∏ —Ç–æ–≤–∞—Ä—ã, –¥–æ—Ä–æ–∂–µ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã (–Ω–æ —Å WITH)**

```sql
WITH avg_price_cte AS (
    SELECT AVG(price) AS avg_price FROM products
)
SELECT * 
FROM products p, avg_price_cte 
WHERE p.price > avg_price_cte.avg_price;
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç `WITH avg_price_cte`?**

`WITH` —Å–æ–∑–¥–∞—ë—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É `avg_price_cte`, –∫–æ—Ç–æ—Ä–∞—è —Ö—Ä–∞–Ω–∏—Ç `AVG(price)`. –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ—ë –≤ FROM, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –¥–æ—Ä–æ–∂–µ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äì —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –ø—Ä–∏–º–µ—Ä–µ.

## –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: UNION, INTERSECT, EXCEPT

–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–∑–Ω—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

| –û–ø–µ—Ä–∞—Ç–æ—Ä   | –û–ø–∏—Å–∞–Ω–∏–µ                                                   |
|------------|------------------------------------------------------------|
| UNION      | –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –¥–≤—É—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.             |
| UNION ALL  | –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏, –≤–∫–ª—é—á–∞—è –¥—É–±–ª–∏–∫–∞—Ç—ã.                  |
| INTERSECT  | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –¥–≤—É—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.     |
| EXCEPT     | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω–∏—Ü—É (—á—Ç–æ –µ—Å—Ç—å –≤ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ, –Ω–æ –Ω–µ—Ç –≤–æ –≤—Ç–æ—Ä–æ–º). |

### UNION 

–î–∞–≤–∞–π—Ç–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–º —Ç–æ–≤–∞—Ä—ã –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã. –î–æ–ø—É—Å—Ç–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã:

```sql
CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    price NUMERIC
);

CREATE TABLE accessories (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    price NUMERIC
);
```

–ú—ã —Ö–æ—Ç–∏–º –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Ç–æ–≤–∞—Ä—ã –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã –≤ –æ–¥–∏–Ω —Å–ø–∏—Å–æ–∫.

```sql
SELECT name, price FROM products
UNION
SELECT name, price FROM accessories;
```

`UNION` —É–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã.

–ï—Å–ª–∏ —Ö–æ—Ç–∏–º –æ—Å—Ç–∞–≤–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º `UNION ALL`:

```sql
SELECT name, price FROM products
UNION ALL
SELECT name, price FROM accessories;
```

### INTERSECT

–ù–∞–π–¥–µ–º —Ç–æ–≤–∞—Ä—ã –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏

```sql
SELECT name FROM products
INTERSECT
SELECT name FROM accessories;
```

–ü–æ–∫–∞–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –∏ –≤ `products`, –∏ –≤ `accessories`.

### EXCEPT 

–í—ã–≤–µ–¥–µ–º —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –∞–∫—Å–µ—Å—Å—É–∞—Ä–∞—Ö

```sql
SELECT name FROM products
EXCEPT
SELECT name FROM accessories;
```

–ü–æ–∫–∞–∂–µ—Ç —Ç–æ–≤–∞—Ä—ã –∏–∑ `products`, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ `accessories`.

## –û–ø–µ—Ä–∞—Ç–æ—Ä JOIN –≤ SQL

![all_join.jpg](image/all_join.jpg)/


### –ß—Ç–æ —Ç–∞–∫–æ–µ JOIN –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

–í —Ä–µ–∞–ª—å–Ω—ã—Ö –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø–æ —Ä–∞–∑–Ω—ã–º —Ç–∞–±–ª–∏—Ü–∞–º. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É, –Ω–∞–º –Ω—É–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:

- –û–ø–µ—Ä–∞—Ç–æ—Ä JOIN –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–≤—è–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü –ø–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É —É—Å–ª–æ–≤–∏—é.
- –ú—ã –º–æ–∂–µ–º —Å–æ–µ–¥–∏–Ω—è—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ø–æ –æ–±—â–µ–º—É –ø—Ä–∏–∑–Ω–∞–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `id` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `users` –∏ `user_id` –≤ —Ç–∞–±–ª–∏—Ü–µ `orders`).

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?**

- –ò–∑–±–µ–≥–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ —Ö—Ä–∞–Ω–∏–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–∞–∂–¥–æ–π –µ–≥–æ –ø–æ–∫—É–ø–∫–µ).
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ (—Ä–∞–∑–¥–µ–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –±–ª–æ–∫–∏).
- –†–∞–±–æ—Ç–∞–µ–º —Å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏.

–°—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ JOIN:

- INNER JOIN
- LEFT JOIN (–∏–ª–∏ LEFT OUTER JOIN)
- RIGHT JOIN (–∏–ª–∏ RIGHT OUTER JOIN)
- FULL JOIN (–∏–ª–∏ FULL OUTER JOIN)
- CROSS JOIN
- SELF JOIN

![Types-of-Join.webp](image/Types-of-Join.webp)

–°–æ–∑–¥–∞–¥–∏–º –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤. –î–ª—è –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã `users` –∏ `orders`, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –∑–∞–∫–∞–∑—ã.

```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL
);

CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INT,
    product VARCHAR(100) NOT NULL,
    amount NUMERIC(10,2) NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

**–ß—Ç–æ –∑–¥–µ—Å—å –≤–∞–∂–Ω–æ?**

- `users.id` ‚Äì —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫–ª—é—á PRIMARY KEY).
- `orders.user_id `‚Äì –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑—ã–≤–∞–µ—Ç –∑–∞–∫–∞–∑ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (FOREIGN KEY REFERENCES users(id)).
- `ON DELETE CASCADE` ‚Äì –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏—Ç—Å—è, –µ–≥–æ –∑–∞–∫–∞–∑—ã —Ç–æ–∂–µ —É–¥–∞–ª—è—Ç—Å—è.

–ù–∞–ø–æ–ª–Ω–∏–º —Ç–∞–±–ª–∏—Ü—ã –¥–∞–Ω–Ω—ã–º–∏:

```sql
INSERT INTO users (name, email) VALUES
    ('–ò–≤–∞–Ω', 'ivan@example.com'),
    ('–ú–∞—Ä–∏—è', 'maria@example.com'),
    ('–ê–ª–µ–∫—Å–µ–π', 'alex@example.com'),
    ('–û–ª—å–≥–∞', 'olga@example.com');

INSERT INTO orders (user_id, product, amount) VALUES
    (1, '–¢–µ–ª–µ—Ñ–æ–Ω', 1200),
    (2, '–ù–æ—É—Ç–±—É–∫', 2500),
    (2, '–ú—ã—à—å', 500),
    (3, '–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞', 1000),
    (5, '–ú–æ–Ω–∏—Ç–æ—Ä', 3000); 
```

**–ó–¥–µ—Å—å `user_id = 5,` –Ω–æ —Ç–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –≤ `users`!**

–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–ª–∏—Ü

```sql
SELECT * FROM users;
```

| id | name    | email              |
|----|--------|--------------------|
| 1  | –ò–≤–∞–Ω   | ivan@example.com   |
| 2  | –ú–∞—Ä–∏—è  | maria@example.com  |
| 3  | –ê–ª–µ–∫—Å–µ–π| alex@example.com   |
| 4  | –û–ª—å–≥–∞  | olga@example.com   |

```sql
SELECT * FROM orders;
```

| id | user_id | product   | amount |
|----|---------|----------|--------|
| 1  | 1       | –¢–µ–ª–µ—Ñ–æ–Ω  | 1200   |
| 2  | 2       | –ù–æ—É—Ç–±—É–∫  | 2500   |
| 3  | 2       | –ú—ã—à—å     | 500    |
| 4  | 3       | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ | 1000  |
| 5  | 5       | –ú–æ–Ω–∏—Ç–æ—Ä  | 3000   |

**–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã**

- –£ –û–ª—å–≥–∏ `(id = 4)` –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤ ‚Äì –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –æ–Ω–∞ –ø–æ–≤–µ–¥—ë—Ç —Å–µ–±—è –≤ `LEFT JOIN`.
- –£ `user_id = 5` –µ—Å—Ç—å –∑–∞–∫–∞–∑ (–ú–æ–Ω–∏—Ç–æ—Ä), –Ω–æ —Ç–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `users` ‚Äì –ø–æ—Å–º–æ—Ç—Ä–∏–º, —á—Ç–æ —Å –Ω–∏–º –±—É–¥–µ—Ç –≤ `RIGHT JOIN`.
- –¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –≥–æ—Ç–æ–≤–∞—è –±–∞–∑–∞, –∏ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å JOIN-–∑–∞–ø—Ä–æ—Å—ã!


### INNER JOIN

–≠—Ç–æ—Ç JOIN –≤–µ—Ä–Ω—ë—Ç —Ç–æ–ª—å–∫–æ —Ç–µ —Å—Ç—Ä–æ–∫–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ –æ–±–µ–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö. –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤, –æ–Ω –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

**SQL-–∑–∞–ø—Ä–æ—Å (INNER JOIN):**

```sql
SELECT users.name, users.email, orders.product, orders.amount
FROM users
INNER JOIN orders ON users.id = orders.user_id;
```

–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

- SQL –∏—â–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –º–µ–∂–¥—É `users.id` –∏ `orders.user_id`.
- –ï—Å–ª–∏ –≤ `orders` –µ—Å—Ç—å –∑–∞–ø–∏—Å—å, –Ω–æ —Ç–∞–∫–æ–≥–æ `user_id` –Ω–µ—Ç –≤ `users` ‚Äì —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.
- –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤ ‚Äì –æ–Ω —Ç–æ–∂–µ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

| name    | email              | product   | amount |
|--------|--------------------|----------|--------|
| –ò–≤–∞–Ω   | ivan@example.com   | –¢–µ–ª–µ—Ñ–æ–Ω  | 1200   |
| –ú–∞—Ä–∏—è  | maria@example.com  | –ù–æ—É—Ç–±—É–∫  | 2500   |
| –ú–∞—Ä–∏—è  | maria@example.com  | –ú—ã—à—å     | 500    |
| –ê–ª–µ–∫—Å–µ–π| alex@example.com   | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ | 1000  |

**–ß—Ç–æ –º—ã –≤–∏–¥–∏–º?**

- `–û–ª—å–≥–∞ (id = 4)` –Ω–µ –ø–æ–ø–∞–ª–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–µ—ë –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤.
- –ó–∞–∫–∞–∑ –ú–æ–Ω–∏—Ç–æ—Ä `(user_id = 5)` —Ç–æ–∂–µ –Ω–µ –ø–æ–ø–∞–ª, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –≤ users.

### LEFT JOIN

`LEFT JOIN` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã. –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è `NULL` –¥–ª—è —Å—Ç–æ–ª–±—Ü–æ–≤ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã.

**SQL-–∑–∞–ø—Ä–æ—Å (LEFT JOIN):**

```sql
SELECT users.name, users.email, orders.product, orders.amount
FROM users
LEFT JOIN orders ON users.id = orders.user_id;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (LEFT JOIN):**

| name    | email              | product   | amount |
|--------|--------------------|----------|--------|
| –ò–≤–∞–Ω   | ivan@example.com   | –¢–µ–ª–µ—Ñ–æ–Ω  | 1200   |
| –ú–∞—Ä–∏—è  | maria@example.com  | –ù–æ—É—Ç–±—É–∫  | 2500   |
| –ú–∞—Ä–∏—è  | maria@example.com  | –ú—ã—à—å     | 500    |
| –ê–ª–µ–∫—Å–µ–π| alex@example.com   | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ | 1000  |
| –û–ª—å–≥–∞  | olga@example.com   | NULL     | NULL   |

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?**

- –û–ª—å–≥–∞ `(id = 4)` —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö, –Ω–æ —É –Ω–µ—ë –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤, –ø–æ—ç—Ç–æ–º—É `product = NULL`.
- –ó–∞–∫–∞–∑ –ú–æ–Ω–∏—Ç–æ—Ä `(user_id = 5)` –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –Ω–µ –ø–æ–ø–∞–ª –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ users –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### RIGHT JOIN

`RIGHT JOIN` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã. –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è `NULL` –¥–ª—è —Å—Ç–æ–ª–±—Ü–æ–≤ –ª–µ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã.

**SQL-–∑–∞–ø—Ä–æ—Å (RIGHT JOIN):**

```sql
SELECT users.name, users.email, orders.product, orders.amount
FROM users
RIGHT JOIN orders ON users.id = orders.user_id;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (RIGHT JOIN):**

| name    | email              | product   | amount |
|--------|--------------------|----------|--------|
| –ò–≤–∞–Ω   | ivan@example.com   | –¢–µ–ª–µ—Ñ–æ–Ω  | 1200   |
| –ú–∞—Ä–∏—è  | maria@example.com  | –ù–æ—É—Ç–±—É–∫  | 2500   |
| –ú–∞—Ä–∏—è  | maria@example.com  | –ú—ã—à—å     | 500    |
| –ê–ª–µ–∫—Å–µ–π| alex@example.com   | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ | 1000  |
| NULL   | NULL               | –ú–æ–Ω–∏—Ç–æ—Ä  | 3000   |

**–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?**

- –ü–æ—è–≤–∏–ª—Å—è –∑–∞–∫–∞–∑ –Ω–∞ –ú–æ–Ω–∏—Ç–æ—Ä `(user_id = 5)`, –Ω–æ —É –Ω–µ–≥–æ –Ω–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí `NULL`.
- –û–ª—å–≥–∞ `(id = 4)` –Ω–µ –ø–æ–ø–∞–ª–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ç–∞–∫ –∫–∞–∫ —É –Ω–µ—ë –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤.

### FULL JOIN

`FULL JOIN` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏, –∫–æ–≥–¥–∞ –µ—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ –ª–µ–≤–æ–π –∏–ª–∏ –ø—Ä–∞–≤–æ–π —Ç–∞–±–ª–∏—Ü–∞—Ö. –ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è `NULL` –¥–ª—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π —Å –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω.

**SQL-–∑–∞–ø—Ä–æ—Å (FULL JOIN):**

```sql
SELECT users.name, users.email, orders.product, orders.amount
FROM users
FULL JOIN orders ON users.id = orders.user_id;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç (FULL JOIN):**

| name    | email              | product   | amount |
|--------|--------------------|----------|--------|
| –ò–≤–∞–Ω   | ivan@example.com   | –¢–µ–ª–µ—Ñ–æ–Ω  | 1200   |
| –ú–∞—Ä–∏—è  | maria@example.com  | –ù–æ—É—Ç–±—É–∫  | 2500   |
| –ú–∞—Ä–∏—è  | maria@example.com  | –ú—ã—à—å     | 500    |
| –ê–ª–µ–∫—Å–µ–π| alex@example.com   | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ | 1000  |
| –û–ª—å–≥–∞  | olga@example.com   | NULL     | NULL   |
| NULL   | NULL               | –ú–æ–Ω–∏—Ç–æ—Ä  | 3000   |

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –í–°–ï –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –í–°–ï –∑–∞–∫–∞–∑—ã, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –Ω–µ—Ç!

### CROSS JOIN

–≠—Ç–æ—Ç `JOIN` —Å–æ–∑–¥–∞—ë—Ç "–î–µ–∫–∞—Ä—Ç–æ–≤–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ", —Ç–æ –µ—Å—Ç—å –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –ø–µ—Ä–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å–æ—á–µ—Ç–∞–µ—Ç —Å –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–æ–π –≤—Ç–æ—Ä–æ–π —Ç–∞–±–ª–∏—Ü—ã.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–µ–¥–∫–∏—Ö —Å–ª—É—á–∞—è—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä:

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–º–±–∏–Ω–∞—Ü–∏–∏ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**SQL-–∑–∞–ø—Ä–æ—Å (CROSS JOIN):**

```sql
SELECT users.name, orders.product
FROM users
CROSS JOIN orders;
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**

- –ë–µ—Ä—ë–º –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ users
- –ë–µ—Ä—ë–º –≤—Å–µ –∑–∞–∫–∞–∑—ã –∏–∑ `orders`
- –°–æ–∑–¥–∞—ë–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∑–∞–∫–∞–∑–æ–≤

| name    | product   |
|--------|----------|
| –ò–≤–∞–Ω   | –¢–µ–ª–µ—Ñ–æ–Ω  |
| –ò–≤–∞–Ω   | –ù–æ—É—Ç–±—É–∫  |
| –ò–≤–∞–Ω   | –ú—ã—à—å     |
| –ò–≤–∞–Ω   | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ |
| –ò–≤–∞–Ω   | –ú–æ–Ω–∏—Ç–æ—Ä  |
| –ú–∞—Ä–∏—è  | –¢–µ–ª–µ—Ñ–æ–Ω  |
| –ú–∞—Ä–∏—è  | –ù–æ—É—Ç–±—É–∫  |
| –ú–∞—Ä–∏—è  | –ú—ã—à—å     |
| –ú–∞—Ä–∏—è  | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ |
| –ú–∞—Ä–∏—è  | –ú–æ–Ω–∏—Ç–æ—Ä  |
| –ê–ª–µ–∫—Å–µ–π| –¢–µ–ª–µ—Ñ–æ–Ω  |
| –ê–ª–µ–∫—Å–µ–π| –ù–æ—É—Ç–±—É–∫  |
| –ê–ª–µ–∫—Å–µ–π| –ú—ã—à—å     |
| –ê–ª–µ–∫—Å–µ–π| –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ |
| –ê–ª–µ–∫—Å–µ–π| –ú–æ–Ω–∏—Ç–æ—Ä  |
| –û–ª—å–≥–∞  | –¢–µ–ª–µ—Ñ–æ–Ω  |
| –û–ª—å–≥–∞  | –ù–æ—É—Ç–±—É–∫  |
| –û–ª—å–≥–∞  | –ú—ã—à—å     |
| –û–ª—å–≥–∞  | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ |
| –û–ª—å–≥–∞  | –ú–æ–Ω–∏—Ç–æ—Ä  |

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ?**

- –ö–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–∞–∫–∞–∑—ã.
- –£ –Ω–∞—Å 4 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è √ó 5 –∑–∞–∫–∞–∑–æ–≤ = 20 —Å—Ç—Ä–æ–∫.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `CROSS JOIN` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –æ–≥—Ä–æ–º–Ω–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å—Ç—Ä–æ–∫, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü—ã –±–æ–ª—å—à–∏–µ!

### SELF JOIN

–≠—Ç–æ—Ç JOIN –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Å—Ç—Ä–æ–∫–∏ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –º–µ–∂–¥—É —Å–æ–±–æ–π. –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∏ –∏—Ö –Ω–∞—á–∞–ª—å–Ω–∏–∫–∏).

**–°–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É employees (–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏)**

```sql
CREATE TABLE employees (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    manager_id INT
);
```

**–î–æ–±–∞–≤–∏–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:**

```sql
INSERT INTO employees (name, manager_id) VALUES
    ('–ê–Ω–Ω–∞', NULL),   -- –ê–Ω–Ω–∞ - –¥–∏—Ä–µ–∫—Ç–æ—Ä (–±–µ–∑ –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞)
    ('–ò–≤–∞–Ω', 1),      -- –ò–≤–∞–Ω –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –ê–Ω–Ω–µ
    ('–ú–∞—Ä–∏—è', 1),     -- –ú–∞—Ä–∏—è –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –ê–Ω–Ω–µ
    ('–ê–ª–µ–∫—Å–µ–π', 2),   -- –ê–ª–µ–∫—Å–µ–π –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –ò–≤–∞–Ω—É
    ('–û–ª—å–≥–∞', 3);     -- –û–ª—å–≥–∞ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –ú–∞—Ä–∏–∏
```

**–¢–∞–±–ª–∏—Ü–∞ employees (–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏)**

| id | name    | manager_id |
|----|--------|-----------|
| 1  | –ê–Ω–Ω–∞    | NULL      |
| 2  | –ò–≤–∞–Ω    | 1         |
| 3  | –ú–∞—Ä–∏—è   | 1         |
| 4  | –ê–ª–µ–∫—Å–µ–π | 2         |
| 5  | –û–ª—å–≥–∞   | 3         |

**SQL-–∑–∞–ø—Ä–æ—Å (SELF JOIN):**

```sql
SELECT e1.name AS employee, e2.name AS manager
FROM employees e1
LEFT JOIN employees e2 ON e1.manager_id = e2.id;
```

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**

- e1 ‚Äì —Å–æ—Ç—Ä—É–¥–Ω–∏–∫
- e2 ‚Äì –µ–≥–æ –Ω–∞—á–∞–ª—å–Ω–∏–∫
- SQL –∏—â–µ—Ç –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (manager_id = e2.id)

**–†–µ–∑—É–ª—å—Ç–∞—Ç (SELF JOIN)**

| employee | manager |
|---------|--------|
| –ê–Ω–Ω–∞     | NULL   |
| –ò–≤–∞–Ω     | –ê–Ω–Ω–∞   |
| –ú–∞—Ä–∏—è    | –ê–Ω–Ω–∞   |
| –ê–ª–µ–∫—Å–µ–π  | –ò–≤–∞–Ω   |
| –û–ª—å–≥–∞    | –ú–∞—Ä–∏—è  |

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ?**

- –ê–Ω–Ω–∞ ‚Äì –¥–∏—Ä–µ–∫—Ç–æ—Ä, –ø–æ—ç—Ç–æ–º—É —É –Ω–µ—ë –Ω–µ—Ç –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞ (NULL).
- –ò–≤–∞–Ω –∏ –ú–∞—Ä–∏—è –ø–æ–¥—á–∏–Ω—è—é—Ç—Å—è –ê–Ω–Ω–µ.
- –ê–ª–µ–∫—Å–µ–π –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –ò–≤–∞–Ω—É.
- –û–ª—å–≥–∞ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –ú–∞—Ä–∏–∏.

–¢–µ–ø–µ—Ä—å —É –Ω–∞—Å –µ—Å—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤!