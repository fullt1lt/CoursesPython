# Лекция 4. Списки, срезы, Циклы (For, While)

## Списки в Python

**Что такое список?**
Список - это упорядоченная коллекция элементов, которая может содержать объекты разных типов.

Создать список можно, заключив элементы в квадратные скобки [] и разделив их запятыми.
В списке Python могут одновременно находиться элементы разных типов, например, числа, строки и даже другие списки. Это делает их очень гибкими и удобными для хранения различных данных.

```python
# Пустой список
empty_list = []

# Список чисел
numbers = [1, 2, 3, 4, 5]

# Список строк
words = ["яблоко", "банан", "апельсин"]

# Список с разными типами данных
mixed_list = [42, "hello", 3.14, True]

# Список с разными типами данных и списком внутри
mixed_list_with_list = [42, "hello", 3.14, True, [1, 2, 3]]
```

### Доступ к элементам списка

Каждый элемент списка имеет индекс (Нумерация элементов в списке начинается с 0), по которому к нему можно обратиться. Благодаря этому мы можем легко получать, изменять или удалять элементы.Списки являются динамическими структурами данных, что означает, что их можно изменять во время работы программы: добавлять новые элементы, удалять существующие или заменять их.

```python
fruits = ["яблоко", "банан", "апельсин"]

print(fruits[0])  # яблоко (первый элемент)
print(fruits[1])  # банан
print(fruits[2])  # апельсин
```

Можно использовать отрицательные индексы, если нужно обратиться к элементу с конца списка:

```python
fruits = ["яблоко", "банан", "апельсин"]

print(fruits[-1])  # апельсин (последний элемент)
print(fruits[-2])  # банан
```

### Изменение элементов списка

Списки можно изменять, например мы можем заменить объект по индексу:

```python
numbers = [1, 2, 3, 4]
numbers[1] = 10  # Заменяем второй элемент (индекс 1)
print(numbers)  # [1, 10, 3, 4]
```

### Операции со списками

**Конкатенация (сложение списков)**

```python
list1 = [1, 2, 3]
list2 = [4, 5, 6]

result = list1 + list2  # Объединение списков
print(result)  # [1, 2, 3, 4, 5, 6]
```

**Дублирование списка (умножение)**

```python
nums = [0, 1]
print(nums * 3)  # [0, 1, 0, 1, 0, 1]
```

**Проверка наличия элемента**

```python
colors = ["red", "blue", "green"]

print("red" in colors)  # True
print("black" in colors)  # False
```

### Немного про методы

Практически у любого объекта в питоне есть возможность с ним совершить какие-то дополнительные действия. Обычно для этого используются методы (детально мы будем рассматривать эту тему дальше), что бы вызвать какой-либо метод, необходимо обратиться к объекту через точку, указать какой именно метод вам нужен, и если необходимо в скобках указать параметры для этого вызова.

```python
obj.method(params)  # Параметры не обязательны
```

### Методы списков

Python предоставляет удобные методы для работы со списками. Давайте поговорим он них немного.

#### Добавление элементов

- `append()` – добавляет элемент в конец списка.
- `insert(index, value)` – вставляет элемент по индексу.
- `extend(collection)` - расширяет список другой коллекцией 

```python
nums = [1, 2, 3]
nums.append(4)  # Добавляем 4 в конец списка
print(nums)  # [1, 2, 3, 4]

nums.insert(1, 99)  # Вставляем 99 на позицию 1
print(nums)  # [1, 99, 2, 3, 4]

l1 = [1, 2, 3]
l2 = ['a', 'b']
l1.extend(l2)
print(l1)  # [1,2,3,'a','b']
```

#### Удаление элементов

- `remove(value)` – удаляет первый найденный элемент.
- `pop(index)` – удаляет элемент по индексу (по умолчанию – последний).
- `clear()` – очищает список.

```python
nums = [1, 2, 3, 4, 5]
nums.remove(3)  # Удаляем 3
print(nums)  # [1, 2, 4, 5]

nums.pop(1)  # Удаляем элемент по индексу 1
print(nums)  # [1, 4, 5]

nums.clear()  # Очищаем список
print(nums)  # []
```

#### Поиск элементов

- `index(value)` – возвращает индекс первого найденного элемента.
- `count(value)` – считает, сколько раз элемент встречается в списке.

```python
nums = [10, 20, 30, 10, 20, 10]

print(nums.index(30))  # 2 (индекс первого 30)
print(nums.count(10))  # 3 (сколько раз встречается 10)
```

#### Сортировка и разворот списка

- `sort()` – сортирует список.
- `reverse()` – переворачивает список.

```python
nums = [5, 2, 9, 1]
nums.sort()  # Сортируем
print(nums)  # [1, 2, 5, 9]

nums.reverse()  # Разворачиваем
print(nums)  # [9, 5, 2, 1]
```


#### copy()

Метод возвращает копию списка.

```python
l = [1, 2, 3]
l2 = l.copy()
print(l is l2)  # False Вернемся к этому оператору после функций
print(l == l2)  # True
```

#### Основные возможные исключения связанные со списками

В случае работы со списками могут произойти ранее не рассмотренное исключения(Надеюсь прошлую лекцию вы еще не забыли:) ).
`IndexError` - Случается когда мы пытаемся получить объект по индексу, а такого индекса не существует.

```python
l = [1, 2, 3]
print(l[5])  # IndexError
```

#### Еще немного плезной информации про списки

Когда создаётся список, Python автоматически выделяет под него память. Нам не нужно беспокоиться о том, сколько места потребуется или когда оно освободится — интерпретатор Python управляет этим самостоятельно. Если список увеличивается, система выделяет больше памяти, если уменьшается — освобождает ненужное. В основе списков Python лежит структура данных, похожая на массив, но с важными отличиями. В классическом массиве каждому элементу выделяется фиксированное количество памяти, и они хранятся непрерывно. В Python-списках такого ограничения нет — они могут содержать объекты разного размера и типа. Как это работает? В Python список — это массив ссылок. Вместо того чтобы хранить сами данные, элементы списка содержат ссылки на их местоположение в памяти. Это позволяет работать с данными более эффективно, но также означает, что операции со списками могут быть чуть менее предсказуемыми по скорости по сравнению с массивами в других языках программирования.

### Строки как коллекции в Python

В Python строки `(str)` представляют собой упорядоченные неизменяемые коллекции символов. Это означает, что строка — это набор символов, пронумерованных по индексам, а также то, что изменить её содержимое после создания нельзя.

#### Строки похожи на списки
Хотя строки и списки являются разными типами данных, у них есть общие свойства:

- Они упорядочены (можно обращаться по индексу).
- Они поддерживают итерацию (можно перебрать символы в цикле).
- Они поддерживают срезы (можно получить подстроку).
- Они поддерживают поиск и методы обработки данных.

#### Доступ к символам по индексу

```python
text = "Python"
print(text[0])  # 'P'  - первый символ
print(text[1])  # 'y'  - второй символ
print(text[-1]) # 'n'  - последний символ (обратный индекс)
```

Обратные индексы позволяют обращаться к элементам с конца (-1, -2 и т. д.).
**Но изменять символы по индексу нельзя !!!!**
```python
text[0] = "J"  # TypeError: 'str' object does not support item assignment
```

У строк очень много разных полезных методов, и особенностей, мы рассмотрим только основные, хотя их там много, кто хочет
детально почитать про все [сюда](https://www.w3schools.com/python/python_ref_string.asp).

#### Методы работы со строками в Python

Python предоставляет множество встроенных методов для удобной работы со строками. Давайте рассмотрим основные из них.

#### Преобразование регистра

Методы, которые изменяют регистр символов в строке.

- `lower()` – переводит строку в нижний регистр

```python
text = "Hello World"
print(text.lower())  # "hello world"
```
- `upper()` – переводит строку в верхний регистр

```python
text = "Hello World"
print(text.upper())  # "HELLO WORLD"
```
- `capitalize()` – делает первую букву строки заглавной, остальные – - трочными

```python
text = "hello world"
print(text.capitalize())  # "Hello world"
```
- `title()` – делает заглавными первые буквы каждого слова

```python
text = "hello world python"
print(text.title())  # "Hello World Python"
```
- `swapcase()` – меняет регистр на противоположный

```python
text = "Hello World"
print(text.swapcase())  # "hELLO wORLD"
```

#### Работа с пробелами и символами

Методы, которые позволяют удалять лишние пробелы и символы.

- `.strip()` – убирает пробелы и символы переноса в начале и конце строки

```python
text = "   hello world   "
print(text.strip())  # "hello world"
```

- `.lstrip()` – убирает пробелы только в начале строки

```python
text = "   hello world"
print(text.lstrip())  # "hello world"
```

- `.rstrip()` – убирает пробелы только в конце строки

```python
text = "hello world   "
print(text.rstrip())  # "hello world"
```

- `.strip("xyz")` – удаляет указанные символы по краям строки

```python
text = "xxxyhello worldyyy"
print(text.strip("xy"))  # "hello world"
```

#### Поиск и проверка наличия подстроки

Методы, которые позволяют проверять и находить подстроки в строке.

- `.startswith()` – проверяет, начинается ли строка с указанного символа/подстроки

```python
text = "Hello World"
print(text.startswith("Hello"))  # True
print(text.startswith("World"))  # False
```

- `.endswith()` – проверяет, заканчивается ли строка указанным символом/подстрокой

```python
text = "Hello World"
print(text.endswith("World"))  # True
print(text.endswith("Hello"))  # False
```

- `.find()` – находит индекс первого вхождения подстроки (если нет – возвращает -1)

```python
text = "Hello World"
print(text.find("World"))  # 6
print(text.find("Python"))  # -1 (не найдено)
```

- `.rfind()` – находит индекс последнего вхождения подстроки

```python
text = "Hello World World"
print(text.rfind("World"))  # 12 (индекс последнего "World")
```

- `.count()` – считает количество вхождений подстроки

```python
text = "banana banana banana"
print(text.count("banana"))  # 3
```

#### Замена и модификация строки
Методы, которые позволяют изменять строку.

- `.replace(old, new)` – заменяет одну подстроку на другую

```python
text = "Hello World"
print(text.replace("World", "Python"))  # "Hello Python"
```

- `replace(old, new, count)` – заменяет только первые `count` вхождений

```python
text = "banana banana banana"
print(text.replace("banana", "apple", 2))  # "apple apple banana"
```

#### Разделение и объединение строк
Методы, которые позволяют разбивать строку на части и соединять строки.

- `.split()` – разбивает строку по указанному разделителю и возвращает список

```python
text = "apple,banana,grape"
print(text.split(","))  # ['apple', 'banana', 'grape']
```

- `.split(" ", maxsplit=1)` – разбивает строку только `maxsplit` раз

```python
text = "apple banana grape"
print(text.split(" ", 1))  # ['apple', 'banana grape']
```

- `.rsplit()` – аналог `.split()`, но разбиение идёт справа налево

```python
text = "apple banana grape"
print(text.rsplit(" ", 1))  # ['apple banana', 'grape']
```

- `.join()` – объединяет список строк в одну строку, используя разделитель

```python
words = ["apple", "banana", "grape"]
print(", ".join(words))  # "apple, banana, grape"
```